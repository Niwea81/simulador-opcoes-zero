<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Simulador Educacional de Op√ß√µes</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #020617, #020024);
  color: #e5e7eb;
}

.container {
  max-width: 900px;
  margin: 40px auto;
  background: #020617;
  padding: 30px;
  border-radius: 14px;
  box-shadow: 0 0 25px rgba(0,0,0,.6);
}

h1, h2 {
  text-align: center;
  color: #facc15;
}

label {
  display: block;
  margin-top: 15px;
  font-weight: bold;
}

select, input {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 6px;
  border: none;
  font-size: 16px;
}

button {
  margin-top: 25px;
  width: 100%;
  padding: 14px;
  font-size: 18px;
  background: #2563eb;
  border: none;
  border-radius: 8px;
  color: white;
  cursor: pointer;
}

button:hover {
  background: #1d4ed8;
}

.section {
  margin-top: 40px;
  padding: 20px;
  background: #020024;
  border-radius: 12px;
}

canvas {
  background: #020617;
  border-radius: 10px;
  margin-top: 20px;
}

.alerta {
  margin-top: 20px;
  color: #f87171;
  font-weight: bold;
  text-align: center;
}
</style>
</head>

<body>

<div class="container">
<h1>üìä Simulador Educacional de Op√ß√µes</h1>

<label>Tend√™ncia do Mercado</label>
<select id="tendencia">
  <option value="alta">Alta</option>
  <option value="lateral">Lateral</option>
  <option value="baixa">Baixa</option>
</select>

<label>Volatilidade</label>
<select id="vol">
  <option value="baixa">Baixa</option>
  <option value="media">M√©dia</option>
  <option value="alta">Alta</option>
</select>

<label>Dias at√© o vencimento (DTE)</label>
<input type="number" id="dte" value="7">

<label>Pre√ßo atual do ativo</label>
<input type="number" id="preco" value="100">

<button onclick="analisar()">Analisar Cen√°rio</button>

<!-- AULA GUIADA -->
<div id="aula" class="section"></div>

<!-- PAYOFF -->
<div class="section">
  <h2>üìà Payoff Educacional</h2>
  <canvas id="payoff" width="800" height="300"></canvas>
</div>

<!-- TRADINGVIEW -->
<div class="section">
  <h2>üìâ Gr√°fico do Ativo (TradingView)</h2>
  <iframe
    src="https://s.tradingview.com/widgetembed/?symbol=SPY&interval=60&theme=dark"
    width="100%"
    height="400"
    frameborder="0"
    allowfullscreen>
  </iframe>
</div>

<p class="alerta">
‚ö†Ô∏è Ferramenta educacional. N√£o √© recomenda√ß√£o de investimento.
</p>

</div>

<script>
function analisar() {

  const tendencia = document.getElementById("tendencia").value;
  const vol = document.getElementById("vol").value;
  const preco = Number(document.getElementById("preco").value);

  let estrutura = "";
  let explicacao = "";

  if (tendencia === "alta" && vol !== "alta") {
    estrutura = "Put Credit Spread";
    explicacao = `
    <h2>üß† Aula Guiada</h2>
    <p>O mercado apresenta <b>tend√™ncia de alta</b> com volatilidade controlada.</p>
    <p>Nesse cen√°rio, traders conservadores costumam vender PUTs fora do pre√ßo,
    apostando que o ativo <b>n√£o cair√°</b> at√© o vencimento.</p>
    <p>O foco n√£o √© prever topo, mas sim <b>probabilidade</b>.</p>
    `;
    desenharPayoff(preco, -1);
  }

  else if (tendencia === "baixa" && vol !== "alta") {
